<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>My Dotfiles and Config, Managed by Ansible - jtmoulia</title>
  <meta charset="utf-8" />
  <meta name="author" content="Thomas Moulia" />
    <meta name="description" content="Ansible to manage dotfiles and various system configs." />
    <meta name="keywords" content="config, linux, emacs" />
  <!-- TODO Concatenate CSS -->
  <link rel="stylesheet" href="/media/css/normalize.css" type="text/css">
  <link rel="stylesheet" href="/media/css/skeleton.css" type="text/css">
  <link rel="stylesheet" href="/media/css/prettify.css" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Merriweather:400,700,300italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/media/css/main.css" type="text/css">
</head>

  <body class="container">
<div class="masthead">
  <div class="masthead-title-div u-pull-left">
    <h1 class="masthead-title"><a href="/">
      jtmoulia
    </a></h1>
    <!-- TODO Who needs a sub-title?? -->
    <!-- <p class="masthead-sub-title"> -->
    <!-- public notebook ðŸ““ -->
    <!-- </p> -->
  </div>
  <nav class="navbar u-pull-right">
    <ul class="navbar-list">
      <li><a href="/blog/">Posts</a></li>
      <li><a href="/about/">Who</a></li>
    </ul>
  </nav>
</div>
<div class="u-cf"></div>

    <!-- <div> -->
    <!--   <header class="masthead"> -->
    <!--     <h1 class="masthead-title"><a href="/">jtmoulia</a></h1> -->
    <!--     <p>public notebook ðŸ““</p> -->
    <!--     <ul> -->
    <!--        -->
    <!--       <li><a href="/blog/">Blog</a></li> -->
    <!--        -->
    <!--       <li><a href="/tags/">Tags</a></li> -->
    <!--       <li><a href="/about/">About</a></li> -->
    <!--       <li><a href="http://github.com/jtmoulia">GitHub</a></li> -->
    <!--       <li><a href="/rss.xml">RSS</a></li> -->
    <!--     </ul> -->
    <!--     <form method="get" id="searchform" action="http://www.google.com/search"> -->
    <!--       <input type="text" class="field" name="q" id="s" placeholder="Search"> -->
    <!--       <input type="hidden" name="as_sitesearch" value="jtmoulia.pocketknife.io"> -->
    <!--     </form> -->
    <!--      -->
    <!--   </header> -->
    <!-- </div> -->

  <hr />
<div class="content">
  <div class="post">
      <h3>My Dotfiles and Config, Managed by Ansible</h3>
    <p>
Tools are great, but they have to be portable to the system you&rsquo;re working on to
be used. I install and configure tools across environments using this
<a href="https://github.com/jtmoulia/dotfiles">jtmoulia/dotfiles</a> repo. <code>jtmoulia/dotfiles</code> uses the IT automation tool <a href="https://www.ansible.com/">Ansible</a>
to define and configure the target environment.
</p>

<div id="outline-container-org1a1278d" class="outline-4">
<h4 id="org1a1278d">Dotfiles History</h4>
<div class="outline-text-4" id="text-org1a1278d">
<p>
The current Ansible driven configuration is the latest in a series of attempts.
Initally I copied some dotfiles from computer to computer, using USB sticks,
emails, and scp to set up bespoke environments based on what I needed. To share
and version the dotfiles across system <code>jtmoulia/dotfiles</code> was committed back
in 2012. I symlinked everything into my home directory using
</p>

<p>
This worked great until I wanted to do anything more complicated than just
symlinking files right into the home directory, like, say the basic tasks of
copying in a file (symlinks don&rsquo;t work for all dotfiles) or symlinking a file
into <code>~/.config</code>. As these issues were addressed the bash script grew into a
monster Makefile that could copy, symlink, and backup multiple layers of files.
</p>

<p>
With the Makefile I could unpack some files and symlinks into my target system,
but that was the extent of it. That finally brings us to why Ansible. Ansible
allows installing files anywhere into the system as well as all sorts of other
configuration tasks. It&rsquo;s like <code>make</code>, but the target state isn&rsquo;t limited
to the existence of a file: the <a href="https://docs.ansible.com/ansible/latest/modules/modules_by_category.html">&ldquo;targets&rdquo;</a> range from running a service to
inserting a line into a file. The task definitions are a bit verbose, but super
clear as to their intent. Beween roles and playbooks Ansible lets you layer
tasks any way necessary.
</p>
</div>
</div>

<div id="outline-container-org6b660c2" class="outline-4">
<h4 id="org6b660c2">Setup</h4>
<div class="outline-text-4" id="text-org6b660c2">
<p>
If you already have Pipenv installed you can quickly pull down the repo and
install the required Python dependencies (Ansible):
</p>

<div class="org-src-container">
<pre class="src src-sh">  <span style="color: #bd93f9;">git</span> checkout https://github.com/jtmoulia/dotfiles ~/.dotfiles
  <span style="color: #bd93f9;">cd</span> ~/.dotfiles
  pipenv install
</pre>
</div>

<p>
With the dependencies installed into a virtual environment you can now execute
your configuration:
</p>

<div class="org-src-container">
<pre class="src src-sh">  ./bin/dotsible.sh
</pre>
</div>

<p>
This will install the basic configuration, including a helper script,
<code>dotsible</code>, to quickly run <code>~/dotfiles/bin/dotsible.sh</code>
</p>
</div>
</div>

<div id="outline-container-org1752da7" class="outline-4">
<h4 id="org1752da7">Learning More</h4>
<div class="outline-text-4" id="text-org1752da7">
<p>
If you&rsquo;re familiar with Ansible it&rsquo;s simple to add new functionality (via roles)
and target environments (via playbooks). Read more in the <code>jtmoulia/dotfiles</code>
<a href="https://github.com/jtmoulia/dotfiles/blob/master/README.md">README</a>.
</p>
</div>
</div>

  </div>
</div>

<div>
    <div class="post-meta row">
      <div class="six columns">
        <p>
          Written by <span title="author" class="post-info">Thomas Moulia</span>
        </p>
        <p>
          Tags: <span title="tags" class="post-info"><a href="/tags/linux/">linux</a></span>
        </p>
      </div>
      <div class="six columns">
        <p>
          Published:
          <span title="post date" class="post-info">2019-03-27</span>
        </p>
        <p>
          Modified:
          <span title="last modification date" class="post-info">2022-11-05</span>
        </p>
      </div>
    </div>
  <hr />
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript">
     var _gaq = _gaq || [];
     _gaq.push(['_setAccount', 'UA-60774978-1']);
     _gaq.push(['_trackPageview']);
     (function() {
         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();
    </script>
  <div class="footer container">
    <div class="row">
      <div class="six columns">
        <p>
          Copyright &copy; 2015 -
          <span id="footerYear"></span>
        </p>
        <p>
          by <a href="mailto:jtmoulia &lt;at&gt; gmail &lt;dot&gt; com">Thomas Moulia</a>
        </p>
      </div>
      <div class="six columns">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 29.x (<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Powered by
          <a href="https://github.com/kelvinh/org-page">org-page</a> and
          <a href="http://getskeleton.com/">skeleton</a>
        </p>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>

  </body>
</html>
